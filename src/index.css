/* src/index.css */
/* Tailwind layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ----------------------------------------------------------------------------
   Atlas Command — Global Theme System (light/dark + accent)
   -------------------------------------------------------------------------- */

:root {
  /* Base surfaces & text (LIGHT) */
  --bg-base:    #ffffff;
  --bg-surface: #f8f9fa;  /* subtle card/table background */
  --bg-panel:   #ffffff;  /* SOLID panel background (dropdowns, modals) */
  --text-base:  #0f172a;  /* slate-900 */
  --text-muted: #6b7280;  /* gray-500 */

  /* Default accent = Emerald */
  --accent-50:  #ecfdf5;
  --accent-100: #d1fae5;
  --accent-200: #a7f3d0;
  --accent-300: #6ee7b7;
  --accent-400: #34d399;
  --accent-500: #10b981;
  --accent-600: #059669; /* primary */
  --accent-700: #047857;
  --accent-800: #065f46;
  --accent-900: #064e3b;

  /* Borders / outlines */
  --border-weak:  #e5e7eb; /* gray-200 */
  --border-strong:#d1d5db; /* gray-300 */
}

html.dark {
  /* Base surfaces & text (DARK) - TRUE DARK THEME */
  --bg-base:      #0a0a0b;   /* page background - VERY dark */
  --bg-surface:   #111116;   /* card/table bg - dark */
  --bg-panel:     #0f1014;   /* SOLID panel background (dropdowns, modals) - VERY dark */
  --bg-hover:     #1a1a20;   /* hover state */
  --bg-active:    #1e1e26;   /* active state */
  --text-base:    #e8e9eb;   /* high-contrast text */
  --text-muted:   #8a8f98;   /* secondary text */

  /* Keep emerald accent in dark; tune low tones for contrast */
  --accent-50:  #06261b;
  --accent-100: #083625;
  --accent-200: #0b4a33;
  --accent-300: #0e6143;
  --accent-400: #117a56;
  --accent-500: #10b981;
  --accent-600: #0ea371;
  --accent-700: #0b8d62;
  --accent-800: #097354;
  --accent-900: #075a44;

  --border:         #1f2128;   /* main border */
  --border-subtle:  #16171c;   /* subtle border */
  --border-weak:    #16171c;
  --border-strong:  #2b2d35;
}

/* ----------------------------- Optional accents --------------------------- */
/* Switch by setting <html data-accent="blue|violet|amber|rose|sky|zinc|cyan|lime|pink"> */

html[data-accent="zinc"] {
  --accent-50:#fafafa; --accent-100:#f4f4f5; --accent-200:#e4e4e7; --accent-300:#d4d4d8;
  --accent-400:#a1a1aa; --accent-500:#71717a; --accent-600:#52525b; --accent-700:#3f3f46;
  --accent-800:#27272a; --accent-900:#18181b;
}
html[data-accent="blue"] {
  --accent-50:#eff6ff; --accent-100:#dbeafe; --accent-200:#bfdbfe; --accent-300:#93c5fd;
  --accent-400:#60a5fa; --accent-500:#3b82f6; --accent-600:#2563eb; --accent-700:#1d4ed8;
  --accent-800:#1e40af; --accent-900:#1e3a8a;
}
html[data-accent="violet"] {
  --accent-50:#f5f3ff; --accent-100:#ede9fe; --accent-200:#ddd6fe; --accent-300:#c4b5fd;
  --accent-400:#a78bfa; --accent-500:#8b5cf6; --accent-600:#7c3aed; --accent-700:#6d28d9;
  --accent-800:#5b21b6; --accent-900:#4c1d95;
}
html[data-accent="amber"] {
  --accent-50:#fffbeb; --accent-100:#fef3c7; --accent-200:#fde68a; --accent-300:#fcd34d;
  --accent-400:#fbbf24; --accent-500:#f59e0b; --accent-600:#d97706; --accent-700:#b45309;
  --accent-800:#92400e; --accent-900:#78350f;
}
html[data-accent="rose"] {
  --accent-50:#fff1f2; --accent-100:#ffe4e6; --accent-200:#fecdd3; --accent-300:#fda4af;
  --accent-400:#fb7185; --accent-500:#f43f5e; --accent-600:#e11d48; --accent-700:#be123c;
  --accent-800:#9f1239; --accent-900:#881337;
}
html[data-accent="sky"] {
  --accent-50:#f0f9ff; --accent-100:#e0f2fe; --accent-200:#bae6fd; --accent-300:#7dd3fc;
  --accent-400:#38bdf8; --accent-500:#0ea5e9; --accent-600:#0284c7; --accent-700:#0369a1;
  --accent-800:#075985; --accent-900:#0c4a6e;
}
html[data-accent="cyan"] {
  --accent-50:#ecfeff; --accent-100:#cffafe; --accent-200:#a5f3fc; --accent-300:#67e8f9;
  --accent-400:#22d3ee; --accent-500:#06b6d4; --accent-600:#0891b2; --accent-700:#0e7490;
  --accent-800:#155e75; --accent-900:#164e63;
}
html[data-accent="lime"] {
  --accent-50:#f7fee7; --accent-100:#ecfccb; --accent-200:#d9f99d; --accent-300:#bef264;
  --accent-400:#a3e635; --accent-500:#84cc16; --accent-600:#65a30d; --accent-700:#4d7c0f;
  --accent-800:#3f6212; --accent-900:#365314;
}
html[data-accent="pink"] {
  --accent-50:#fdf2f8; --accent-100:#fce7f3; --accent-200:#fbcfe8; --accent-300:#f9a8d4;
  --accent-400:#f472b6; --accent-500:#ec4899; --accent-600:#db2777; --accent-700:#be185d;
  --accent-800:#9d174d; --accent-900:#831843;
}

/* ------------------------------- App scaffolds ---------------------------- */

html, body, #root { height: 100%; }

body {
  background-color: var(--bg-base);
  color: var(--text-base);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  font-weight: 400;
}

/* Smooth theme transitions (kept subtle for enterprise look) */
* {
  transition: color .18s ease, background-color .18s ease, border-color .18s ease;
}

/* ------------------------------- Utility helpers -------------------------- */

.bg-surface { background-color: var(--bg-surface); }
.text-muted { color: var(--text-muted); }

/* Cards / panels */
.surface-card {
  background-color: var(--bg-surface);
  border: 1px solid var(--border-weak);
  border-radius: 1rem; /* 2xl */
}

/* Accent button helper (example usage in components) */
.btn-accent {
  background-color: var(--accent-600);
  color: #fff;
}
.btn-accent:hover { background-color: var(--accent-700); }

/* Borders */
.border-weak   { border-color: var(--border-weak); }
.border-strong { border-color: var(--border-strong); }

/* Scrollbars (WebKit) */
*::-webkit-scrollbar        { width: 10px; height: 10px; }
*::-webkit-scrollbar-track  { background: transparent; }
*::-webkit-scrollbar-thumb  { background: rgba(120, 120, 128, .35); border-radius: 8px; }
html.dark *::-webkit-scrollbar-thumb { background: rgba(120, 120, 128, .45); }

/* ---------------------- Dark-mode compatibility shims --------------------- */
/* Helps legacy light-only utilities remain readable without refactors.      */
.dark .text-black,
.dark .text-zinc-900,
.dark .text-gray-900,
.dark .text-neutral-900 { color: var(--text-base) !important; }

.dark .bg-white,
.dark .bg-zinc-50,
.dark .bg-gray-50 { background-color: var(--bg-surface) !important; }

.dark .border-zinc-200,
.dark .border-gray-200,
.dark .border-neutral-200 { border-color: var(--border-weak) !important; }

/* ==========================================================================
   Atlas Command — Accent outlines for tiles & icons (non-breaking)
   Uses your existing --ac-primary scale injected by ThemeProvider.
   ========================================================================== */

/* 1) Dashboard / content "tiles" (cards) — pastel fill + accent outline */
main .rounded-2xl.border,
main .surface-card {
  /* outline in main color */
  border-color: var(--ac-primary-300) !important;

  /* soft, light pastel fill of the main color */
  background-color: var(--ac-primary-50) !important;
}

/* 1a) Tile icons inside those cards */
main .rounded-2xl.border .lucide,
main .surface-card .lucide {
  stroke: var(--ac-primary-600) !important;
}

/* Optional: give the little icon badge a soft capsule look */
main .rounded-2xl.border .lucide,
main .surface-card .lucide {
  border: 1px solid var(--ac-primary-200);
  border-radius: 12px;
  padding: 6px; /* looks like your badge size from screenshots */
  background: var(--ac-primary-50);
}

/* 2) Sidebar items — make icons use the main color */
aside nav a .lucide {
  stroke: var(--ac-primary-600) !important;
}

/* 2a) Hover / active feedback matches the pastel family */
aside nav a:hover {
  background-color: var(--ac-primary-50) !important;
  border-color: var(--ac-primary-200) !important;
}
aside nav a.active,
aside nav a[aria-current="page"] {
  background-color: var(--ac-primary-50) !important;
  border-color: var(--ac-primary-300) !important;
  box-shadow: inset 0 0 0 1px var(--ac-primary-100);
}

/* 3) Generic icon tint in the main content area */
main svg.lucide {
  stroke: var(--ac-primary-600);
}

/* ==========================================================================
   Dark Mode Card Styling - Keep cards dark with accent borders
   ========================================================================== */

/* Cards / tiles: subtle elevation + brand outline */
html.dark main .surface-card,
html.dark main .rounded-2xl.border {
  background-color: var(--bg-surface) !important;
  border-color: var(--ac-primary-400) !important;
  box-shadow:
    inset 0 0 0 1px var(--ac-primary-200),
    0 6px 16px rgba(0,0,0,.30);
}

/* Tile header icon (the little rounded square icon) picks up brand color */
html.dark main .surface-card .lucide,
html.dark main .rounded-2xl.border .lucide {
  stroke: var(--ac-primary-500) !important;
  /* keep the soft capsule, but darker to match soft-dark */
  border: 1px solid var(--ac-primary-300);
  border-radius: 12px;
  padding: 6px;
  background: rgba(0,0,0,.08); /* faint tint instead of bright pastel */
}

/* Sidebar: calm hover and active using brand color, with soft dark neutrals */
html.dark aside nav a:hover {
  background-color: #1b2130 !important;     /* soft hover */
  border-color: var(--ac-primary-300) !important;
}
html.dark aside nav a.active,
html.dark aside nav a[aria-current="page"] {
  background-color: #1b2130 !important;
  border-color: var(--ac-primary-400) !important;
  box-shadow: inset 0 0 0 1px var(--ac-primary-300);
}
/* Sidebar icons always in brand color */
html.dark aside nav a .lucide { stroke: var(--ac-primary-500) !important; }

/* Buttons that use your accent helper keep good contrast in soft-dark */
html.dark .btn-accent {
  background-color: var(--ac-primary-600);
  color: #fff;
}
html.dark .btn-accent:hover { background-color: var(--ac-primary-700); }

/* Tables / separators + readability shims to match the softer dark */
html.dark .divide-zinc-200 > :not([hidden]) ~ :not([hidden]),
html.dark .divide-neutral-200 > :not([hidden]) ~ :not([hidden]),
html.dark .divide-gray-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: #262b36 !important;
}

/* ==========================================================================
   Input Utility Classes for EditLoadModal (and other forms)
   ========================================================================== */

.input-text {
  @apply w-full rounded-xl border border-slate-700/80 bg-slate-950/80 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-emerald-400 focus:outline-none focus:ring-1 focus:ring-emerald-400;
}

.input-select {
  @apply w-full rounded-xl border border-slate-700/80 bg-slate-950/80 px-3 py-1.5 text-sm text-slate-50 focus:border-emerald-400 focus:outline-none focus:ring-1 focus:ring-emerald-400;
}

.field-label {
  @apply text-[11px] font-medium uppercase tracking-[0.14em] text-slate-400;
}