/* src/styles/dark-bridge.css
   --------------------------------------------------------------------------
   Dark Bridge — make [data-theme="dark"] behave like `.dark`
   (Non-breaking: works alongside your current CSS and ThemeProvider)
   -------------------------------------------------------------------------- */

/* 1) Soft-dark variables when data-theme="dark" is set on <html> */
:root[data-theme="dark"] {
  /* Soft dark neutrals (not pitch black) */
  --bg-base:      #0f131a;   /* page background */
  --bg-surface:   #171c26;   /* cards / panels */
  --text-base:    #eaecef;   /* high-contrast text */
  --text-muted:   #a2a9b3;   /* secondary text */

  --border-weak:  #222630;
  --border-strong:#2b303b;
}

/* 2) Global page colors */
:root[data-theme="dark"] body {
  color: var(--text-base) !important;
  background: var(--bg-base) !important;
  color-scheme: dark;
}

/* 3) Dark readability shims (mirror your existing `.dark …` helpers) */
:root[data-theme="dark"] .text-black,
:root[data-theme="dark"] .text-zinc-900,
:root[data-theme="dark"] .text-gray-900,
:root[data-theme="dark"] .text-neutral-900 {
  color: var(--text-base) !important;
}

:root[data-theme="dark"] .bg-white,
:root[data-theme="dark"] .bg-zinc-50,
:root[data-theme="dark"] .bg-gray-50,
:root[data-theme="dark"] .bg-neutral-50 {
  background-color: var(--bg-surface) !important;
}

:root[data-theme="dark"] .border-zinc-200,
:root[data-theme="dark"] .border-gray-200,
:root[data-theme="dark"] .border-neutral-200,
:root[data-theme="dark"] .divide-zinc-200 > :not([hidden]) ~ :not([hidden]),
:root[data-theme="dark"] .divide-gray-200 > :not([hidden]) ~ :not([hidden]),
:root[data-theme="dark"] .divide-neutral-200 > :not([hidden]) ~ :not([hidden]) {
  border-color: #262b36 !important;
}

/* Scrollbar tint */
:root[data-theme="dark"] *::-webkit-scrollbar-thumb {
  background: rgba(120,120,128,.45);
}

/* 4) Cards / tiles — soft surface + brand outline (same as your soft-dark spec) */
:root[data-theme="dark"] main .surface-card,
:root[data-theme="dark"] main .rounded-2xl.border {
  background-color: var(--bg-surface) !important;
  border-color: var(--ac-primary-400) !important;
  box-shadow:
    inset 0 0 0 1px var(--ac-primary-200),
    0 6px 16px rgba(0,0,0,.30);
}

/* Tile icons pick up brand color and subtle capsule */
:root[data-theme="dark"] main .surface-card .lucide,
:root[data-theme="dark"] main .rounded-2xl.border .lucide {
  stroke: var(--ac-primary-500) !important;
  border: 1px solid var(--ac-primary-300);
  border-radius: 12px;
  padding: 6px;
  background: rgba(0,0,0,.08);
}

/* 5) Sidebar hover/active use brand color softly */
:root[data-theme="dark"] aside nav a:hover {
  background-color: #1b2130 !important;
  border-color: var(--ac-primary-300) !important;
}
:root[data-theme="dark"] aside nav a.active,
:root[data-theme="dark"] aside nav a[aria-current="page"] {
  background-color: #1b2130 !important;
  border-color: var(--ac-primary-400) !important;
  box-shadow: inset 0 0 0 1px var(--ac-primary-300);
}
/* Sidebar icons always in brand color */
:root[data-theme="dark"] aside nav a .lucide {
  stroke: var(--ac-primary-500) !important;
}

/* 6) Accent button keeps contrast */
:root[data-theme="dark"] .btn-accent {
  background-color: var(--ac-primary-600);
  color: #fff;
}
:root[data-theme="dark"] .btn-accent:hover {
  background-color: var(--ac-primary-700);
}

/* 7) Tables / separators */
:root[data-theme="dark"] table thead th {
  color: var(--text-base) !important;
  background-color: var(--bg-surface) !important;
}
:root[data-theme="dark"] table tbody td {
  color: var(--text-base) !important;
}
